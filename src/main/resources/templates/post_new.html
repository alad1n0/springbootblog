<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FOOD.CO.UK</title>

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/vendor.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/fonts.css">

    <!-- favicons
    ================================================== -->
    <link rel="icon" href="/images/food-2.svg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- script
    ================================================== -->
    <script src="/js/plugins.js"></script>
    <script src="/js/modernizr.js"></script>
    <script src="/js/pace.min.js"></script>

</head>
<body>
    <div class="s-pageheader">
        <header class="header">
            <div class="header__content row">
                <div class="header__logo">
                    <a class="logo" th:href="@{/}">
                        <img src="/images/food.svg" alt="Homepage">
                    </a>
                </div>
                <ul class="header__social">
                    <li>
                        <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a>
                    </li>
                </ul>

                <div class="header__login-wrapper" sec:authorize="!isAuthenticated()">
                    <a th:href="@{/login}" class="header__users-login">Login</a>
                    <a th:href="@{/register}" class="header__users-register">Register</a>
                </div>

                <div class="header__account">
                    <div class="header__user-menu" sec:authorize="isAuthenticated()">
                        <div class="header__users">
                            <svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -5px" width="23" height="23" viewBox="0 0 40 40" fill="none">
                                <g clip-path="url(#clip0_2933_10946)">
                                    <path d="M20 20C21.9778 20 23.9112 19.4135 25.5557 18.3147C27.2002 17.2159 28.4819 15.6541 29.2388 13.8268C29.9957 11.9996 30.1937 9.98891 29.8079 8.0491C29.422 6.10929 28.4696 4.32746 27.0711 2.92894C25.6725 1.53041 23.8907 0.578004 21.9509 0.192152C20.0111 -0.193701 18.0004 0.00433286 16.1732 0.761209C14.3459 1.51809 12.7841 2.79981 11.6853 4.4443C10.5865 6.08879 10 8.02219 10 10C10.0026 12.6514 11.0571 15.1934 12.9319 17.0682C14.8066 18.9429 17.3486 19.9974 20 20ZM20 3.33334C21.3185 3.33334 22.6075 3.72433 23.7038 4.45687C24.8001 5.18942 25.6546 6.23061 26.1592 7.44878C26.6638 8.66696 26.7958 10.0074 26.5386 11.3006C26.2813 12.5938 25.6464 13.7817 24.714 14.7141C23.7817 15.6464 22.5938 16.2813 21.3006 16.5386C20.0074 16.7958 18.667 16.6638 17.4488 16.1592C16.2306 15.6546 15.1894 14.8001 14.4569 13.7038C13.7243 12.6075 13.3333 11.3185 13.3333 10C13.3333 8.2319 14.0357 6.5362 15.286 5.28596C16.5362 4.03572 18.2319 3.33334 20 3.33334ZM20 23.3333C16.0231 23.3378 12.2104 24.9195 9.39827 27.7316C6.58618 30.5437 5.00441 34.3564 5 38.3333C5 38.7754 5.17559 39.1993 5.48816 39.5119C5.80072 39.8244 6.22464 40 6.66667 40C7.10869 40 7.53262 39.8244 7.84518 39.5119C8.15774 39.1993 8.33333 38.7754 8.33333 38.3333C8.33333 35.2391 9.5625 32.2717 11.7504 30.0838C13.9383 27.8958 16.9058 26.6667 20 26.6667C23.0942 26.6667 26.0617 27.8958 28.2496 30.0838C30.4375 32.2717 31.6667 35.2391 31.6667 38.3333C31.6667 38.7754 31.8423 39.1993 32.1548 39.5119C32.4674 39.8244 32.8913 40 33.3333 40C33.7754 40 34.1993 39.8244 34.5118 39.5119C34.8244 39.1993 35 38.7754 35 38.3333C34.9956 34.3564 33.4138 30.5437 30.6017 27.7316C27.7896 24.9195 23.9769 23.3378 20 23.3333Z" fill="white"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_2933_10946">
                                        <rect width="40" height="40" fill="white"/>
                                    </clipPath>
                                </defs>
                            </svg>
                            <p class="header_user_name">My profile</p>
                            <svg class="profile__icon" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 40 40" fill="none">
                                <path d="M32.1365 13.5423C31.966 13.3705 31.7633 13.2341 31.5398 13.141C31.3164 13.0479 31.0768 13 30.8348 13C30.5928 13 30.3531 13.0479 30.1297 13.141C29.9063 13.2341 29.7036 13.3705 29.5331 13.5423L21.1365 21.939C20.966 22.1108 20.7633 22.2472 20.5398 22.3403C20.3164 22.4333 20.0768 22.4813 19.8348 22.4813C19.5928 22.4813 19.3531 22.4333 19.1297 22.3403C18.9063 22.2472 18.7036 22.1108 18.5331 21.939L10.1365 13.5423C9.96602 13.3705 9.76325 13.2341 9.53984 13.141C9.31644 13.0479 9.07681 13 8.83479 13C8.59276 13 8.35314 13.0479 8.12973 13.141C7.90632 13.2341 7.70355 13.3705 7.53312 13.5423C7.19166 13.8858 7 14.3505 7 14.8348C7 15.3191 7.19166 15.7838 7.53312 16.1273L15.9481 24.5423C16.9794 25.5723 18.3773 26.1508 19.8348 26.1508C21.2923 26.1508 22.6902 25.5723 23.7215 24.5423L32.1365 16.1273C32.4779 15.7838 32.6696 15.3191 32.6696 14.8348C32.6696 14.3505 32.4779 13.8858 32.1365 13.5423Z" fill="white"/>
                            </svg>
                        </div>
                        <div class="dropdown-content">
                            <a href="/profile">Profile</a>
                            <a th:href="@{/logout}">Logout</a>
                        </div>
                    </div>
                    <a class="header__search-trigger" href="#"></a>
                </div>

                <a class="header__toggle-menu" href="#" title="Menu"><span>Menu</span></a>

                <nav class="header__nav-wrap">

                    <h2 class="header__nav-heading h6">Site Navigation</h2>

                    <ul class="header__nav">
                        <li><a th:href="@{/}" title="">Home</a></li>
                        <li><a th:href="@{/posts}" title="">Posts</a></li>
                        <li class="has-children">
                            <a href="#" title="">Topics</a>
                            <ul class="sub-menu">
                                <li th:each="category : ${categories}">
                                    <a th:href="@{'/posts/by-category/' + ${category.id}}" th:text="${category.title}"></a>
                                </li>
                            </ul>
                        </li>
                        <li><a th:href="@{/aboute}" title="">About</a></li>
                        <li><a th:href="@{/contact}" title="">Contact</a></li>
                        <li sec:authorize="!isAuthenticated()" class="li_login"><a th:href="@{/login}" title="">Login</a></li>
                        <li sec:authorize="!isAuthenticated()" class="li_tegister"><a th:href="@{/register}" title="">Register</a></li>
                        <li class="header__search-trigger"></li>
                    </ul>

                    <a href="#" title="Close Menu" class="header__overlay-close close-mobile-menu">Close</a>
                </nav>

                <div class="header__search">
                    <form role="search" method="get" class="header__search-form" action="#">
                        <label>
                            <input type="search" class="search-field" placeholder="Type Keywords" value="" name="s" title="Search for:" autocomplete="off">
                        </label>
                        <input type="submit" class="search-submit" value="Search">
                    </form>
                    <a href="#" title="Close Search" class="header__overlay-close">Close</a>
                </div>
            </div>
        </header>
    </div>

    <section class="s-content s-content--narrow">
        <div class="row">
            <div class="s-content__header col-full">
                <h1 style="padding: 0 6rem; text-align: center;" class="s-content__header-title">
                    Create New Post
                </h1>
            </div>
            <div style="padding-left: 0;" class="col-full s-content__main">
                <form th:action="@{/posts/new}" method="post" enctype="multipart/form-data">
                    <fieldset>

                        <div class="hero" id="drop-area">
                            <label style="margin-bottom: 0;" for="image">
                                <input type="file" accept="image/" id="image" hidden="hidden">
                                <div id="img-view">
                                    <div id="img-info-create" class="img-info-create">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">
                                            <circle cx="28" cy="28" r="28" fill="#EDF4FB"/>
                                            <g clip-path="url(#clip0_2990_14355)">
                                                <path d="M34.6533 41.7214C34.4329 41.7214 34.2077 41.6934 33.9847 41.6351L15.9429 36.8037C14.5511 36.4197 13.7216 34.9801 14.0857 33.5894L16.069 25.9838C16.1903 25.517 16.6675 25.2335 17.1365 25.3585C17.6033 25.4799 17.8844 25.9582 17.762 26.4261L15.7785 34.0328C15.6561 34.5018 15.9349 34.9859 16.4016 35.1143L34.4329 39.9433C34.8961 40.0657 35.3744 39.7904 35.4958 39.3296L36.1116 36.8444C36.2285 36.3755 36.7021 36.0908 37.1711 36.2053C37.6402 36.3219 37.926 36.7955 37.8104 37.2644L37.1922 39.7613C36.8805 40.9431 35.8166 41.7213 34.6534 41.7213L34.6533 41.7214Z" fill="#0054A5"/>
                                                <path d="M39.3749 34.7212H21.2911C19.8434 34.7212 18.666 33.544 18.666 32.0962V18.679C18.666 17.2313 19.8434 16.054 21.2911 16.054H39.3749C40.8227 16.054 42 17.2313 42 18.679V32.0962C42 33.544 40.8227 34.7212 39.3749 34.7212ZM21.2911 17.804C20.8081 17.804 20.4161 18.196 20.4161 18.679V32.0962C20.4161 32.5792 20.8081 32.9712 21.2911 32.9712H39.3749C39.858 32.9712 40.25 32.5792 40.25 32.0962V18.679C40.25 18.196 39.858 17.804 39.3749 17.804H21.2911Z" fill="#0054A5"/>
                                                <path d="M24.4998 24.221C23.2129 24.221 22.1663 23.1744 22.1663 21.8875C22.1663 20.6007 23.2129 19.5541 24.4998 19.5541C25.7867 19.5541 26.833 20.6007 26.833 21.8875C26.833 23.1744 25.7867 24.221 24.4998 24.221ZM24.4998 21.3041C24.1777 21.3041 23.9164 21.5656 23.9164 21.8875C23.9164 22.2095 24.1777 22.471 24.4998 22.471C24.8217 22.471 25.083 22.2095 25.083 21.8875C25.083 21.5656 24.8217 21.3041 24.4998 21.3041ZM19.5646 33.5311C19.3407 33.5311 19.1166 33.4459 18.9463 33.2746C18.6045 32.9328 18.6045 32.3784 18.9463 32.0366L24.2197 26.7632C25.0179 25.9651 26.3163 25.9651 27.1131 26.7632L28.5237 28.1738L32.8567 22.9726C33.244 22.5082 33.8123 22.2398 34.4156 22.2365C35.0642 22.2003 35.5892 22.4953 35.98 22.954L41.7879 29.7301C42.1028 30.0965 42.0596 30.6495 41.6933 30.9644C41.3258 31.2795 40.774 31.2363 40.4589 30.87L34.6488 24.0916C34.5717 23.9992 34.4773 24.0039 34.4248 23.9875C34.3748 23.9875 34.2778 24.0027 34.2009 24.0937L29.2541 30.0324C29.0964 30.2212 28.8668 30.3357 28.6217 30.3462C28.372 30.3601 28.1364 30.2643 27.9636 30.0907L25.8754 28.0023C25.7271 27.854 25.6047 27.854 25.4565 28.0023L20.183 33.2746C20.102 33.3561 20.0057 33.4208 19.8995 33.4648C19.7933 33.5089 19.6795 33.5314 19.5646 33.5311Z" fill="#0054A5"/>
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_2990_14355">
                                                    <rect width="28" height="28" fill="white" transform="translate(14 16)"/>
                                                </clipPath>
                                            </defs>
                                        </svg>
                                        <p><span>Click to upload</span> or drag and drop</p>
                                        <span>SVG, PNG, JPG or GIF (max. 900x600px)</span>
                                        <span>or</span>
                                        <a>UPLOAD IMAGE</a>
                                    </div>
                                </div>
                            </label>
                        </div>

                        <div style="padding-top: 30px" class="form-field">
                            <label for="title"></label><input type="text" id="title" name="title" class="full-width" placeholder="Title" required>
                        </div>

                        <div class="message form-field">
                            <label for="body"></label><textarea id="body" name="body" class="full-width" placeholder="Post Text" ></textarea>
                        </div>

                        <div class="s-extra">
                            <div class="row bottom tags-wrap">
                                <h3 style="padding: 0 20px; text-align: left;">Select Topics</h3>
                                <div style="justify-content: left; text-align: left;" class="col-full tags">
                                    <div style="cursor: pointer;" class="tagcloud" th:each="category : ${categories}">
                                        <a class="category-item" th:id="'category-' + ${category.id}"
                                           th:data-id="${category.id}"
                                           th:text="${category.title}">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <input type="hidden" id="selectedCategoryId" value="">
                        <button type="submit" class="submit btn btn--primary full-width">Create Post</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </section>

    <footer class="s-footer">
        <div class="s-footer__main">
            <div class="row">
                <div class="col-two md-four mob-full s-footer__sitelinks">
                    <h4>Quick Links</h4>
                    <ul class="s-footer__linklist">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Posts</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>

                <div class="col-two md-four mob-full s-footer__archives">
                    <h4>Topics</h4>
                    <ul class="s-footer__linklist">
                        <li th:each="category : ${categories}">
                            <a th:href="@{'/posts/by-category/' + ${category.id}}" th:text="${category.title}"></a>
                        </li>
                    </ul>
                </div>

                <div class="col-two md-four mob-full s-footer__social">
                    <h4>Social</h4>
                    <ul class="s-footer__linklist">
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Pinterest</a></li>
                        <li><a href="#">Google+</a></li>
                        <li><a href="#">LinkedIn</a></li>
                    </ul>
                </div>

                <div class="col-five md-full end s-footer__subscribe">
                    <h4>Our Newsletter</h4>
                    <p>
                        Join our community of food lovers and get the best of our culinary blog delivered straight to you. Whether you’re looking for new meal ideas or just want to keep in touch with the latest trends, our newsletter is the perfect way to stay connected.
                    </p>
                    <div class="subscribe-form">
                        <form id="mc-form" class="group" novalidate="novalidate">
                            <input type="email" value="" name="EMAIL" class="email" id="mc-email" placeholder="Email Address" required="">
                            <input type="submit" name="subscribe" value="Send">
                            <label for="mc-email" class="subscribe-message"></label>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="s-footer__bottom">
            <div class="row">
                <div class="col-full">
                    <div class="s-footer__copyright">
                        <span>© Copyright FOOD.CO.UA 2024</span>
                        <span>Site Template by <a href="#">alad1n0</a></span>
                    </div>
                </div>
            </div>
        </div>

    </footer>

    <div id="preloader">
        <div id="loader">
            <div class="line-scale">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>

    <script>
        const dropArea = document.getElementById("drop-area");
        const inputFile = document.getElementById("image");
        const imageView = document.getElementById("img-view");

        inputFile.addEventListener("change", uploadImage);

        function uploadImage() {
            let imgLink = URL.createObjectURL(inputFile.files[0]);
            imageView.style.backgroundImage = `url(${imgLink})`;
            dropArea.style.border = "2px solid #0054A5";
        }

        dropArea.addEventListener("dragover", function (e){
            e.preventDefault();
            dropArea.classList.add('dragover');
        });

        dropArea.addEventListener("dragleave", function (e) {
            dropArea.classList.remove('dragover');
        });

        dropArea.addEventListener("drop", function (e){
            e.preventDefault();
            dropArea.classList.remove('dragover');
            inputFile.files = e.dataTransfer.files;
            uploadImage();
        });

        document.querySelectorAll('.category-item').forEach(item => {
            item.addEventListener('click', () => {
                const selectedCategoryId = document.getElementById('selectedCategoryId').value;
                const currentCategoryId = item.getAttribute('data-id');

                if (selectedCategoryId === currentCategoryId) {
                    item.classList.remove('selected');
                    document.getElementById('selectedCategoryId').value = '';
                } else {
                    document.querySelectorAll('.category-item').forEach(el => el.classList.remove('selected'));
                    item.classList.add('selected');
                    document.getElementById('selectedCategoryId').value = currentCategoryId;
                }
            });
        });
    </script>

    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/plugins.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>